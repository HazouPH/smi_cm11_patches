From 3007aec182c4749bc364d21189fc9dc4b3294ce2 Mon Sep 17 00:00:00 2001
From: Julian Winkler <julian.winkler1@web.de>
Date: Thu, 20 Dec 2018 23:20:42 +0100
Subject: [PATCH 1/3] build on lineage-16.0

Change-Id: I89dcd9d79acfa6c80f746df81941ea9e0ae8efc2
---
 Android.mk | 21 ---------------------
 mixer.c    |  1 -
 pcm.c      |  1 -
 3 files changed, 23 deletions(-)

diff --git a/Android.mk b/Android.mk
index 578baf4..8506531 100644
--- a/Android.mk
+++ b/Android.mk
@@ -7,94 +7,73 @@ ifeq ($(TARGET_TINY_ALSA_IGNORE_SILENCE_SIZE),true)
 endif
 
 LOCAL_C_INCLUDES:= external/tinyalsa/include
-LOCAL_C_INCLUDES += $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr/include
 LOCAL_SRC_FILES:= mixer.c pcm.c
 LOCAL_MODULE := libtinyalsa
 LOCAL_SHARED_LIBRARIES:= libcutils libutils
 LOCAL_MODULE_TAGS := optional
 LOCAL_CFLAGS += -Werror
 
-LOCAL_ADDITIONAL_DEPENDENCIES := $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr
-
 include $(BUILD_SHARED_LIBRARY)
 
 ifeq ($(HOST_OS), linux)
 include $(CLEAR_VARS)
 LOCAL_C_INCLUDES:= external/tinyalsa/include
-LOCAL_C_INCLUDES += $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr/include
 LOCAL_SRC_FILES:= mixer.c pcm.c
 LOCAL_MODULE := libtinyalsa
 LOCAL_STATIC_LIBRARIES:= libcutils libutils
 LOCAL_CFLAGS += -Werror
 
-LOCAL_ADDITIONAL_DEPENDENCIES := $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr
-
 include $(BUILD_HOST_STATIC_LIBRARY)
 endif
 
 include $(CLEAR_VARS)
 LOCAL_C_INCLUDES:= external/tinyalsa/include
-LOCAL_C_INCLUDES += $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr/include
 LOCAL_SRC_FILES:= tinyplay.c
 LOCAL_MODULE := tinyplay
 LOCAL_SHARED_LIBRARIES:= libcutils libutils libtinyalsa
 LOCAL_MODULE_TAGS := optional
 LOCAL_CFLAGS += -Werror -Wno-missing-field-initializers
 
-LOCAL_ADDITIONAL_DEPENDENCIES := $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr
-
 include $(BUILD_EXECUTABLE)
 
 ifeq ($(HOST_OS), linux)
 include $(CLEAR_VARS)
 LOCAL_C_INCLUDES:= external/tinyalsa/include
-LOCAL_C_INCLUDES += $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr/include
 LOCAL_SRC_FILES:= tinyplay.c
 LOCAL_MODULE := tinyplay
 LOCAL_STATIC_LIBRARIES:= libcutils libutils libtinyalsa
 LOCAL_MODULE_TAGS := optional
 LOCAL_CFLAGS += -Werror -Wno-missing-field-initializers
 
-LOCAL_ADDITIONAL_DEPENDENCIES := $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr
-
 include $(BUILD_HOST_EXECUTABLE)
 endif
 
 include $(CLEAR_VARS)
 LOCAL_C_INCLUDES:= external/tinyalsa/include
-LOCAL_C_INCLUDES += $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr/include
 LOCAL_SRC_FILES:= tinycap.c
 LOCAL_MODULE := tinycap
 LOCAL_SHARED_LIBRARIES:= libcutils libutils libtinyalsa
 LOCAL_MODULE_TAGS := optional
 LOCAL_CFLAGS += -Werror -Wno-missing-field-initializers
 
-LOCAL_ADDITIONAL_DEPENDENCIES := $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr
-
 include $(BUILD_EXECUTABLE)
 
 include $(CLEAR_VARS)
 LOCAL_C_INCLUDES:= external/tinyalsa/include
-LOCAL_C_INCLUDES += $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr/include
 LOCAL_SRC_FILES:= tinymix.c
 LOCAL_MODULE := tinymix
 LOCAL_SHARED_LIBRARIES:= libcutils libutils libtinyalsa
 LOCAL_MODULE_TAGS := optional
 LOCAL_CFLAGS += -Werror
 
-LOCAL_ADDITIONAL_DEPENDENCIES := $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr
-
 include $(BUILD_EXECUTABLE)
 
 include $(CLEAR_VARS)
 LOCAL_C_INCLUDES:= external/tinyalsa/include
-LOCAL_C_INCLUDES += $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr/include
 LOCAL_SRC_FILES:= tinypcminfo.c
 LOCAL_MODULE := tinypcminfo
 LOCAL_SHARED_LIBRARIES:= libcutils libutils libtinyalsa
 LOCAL_MODULE_TAGS := optional
 LOCAL_CFLAGS += -Werror
 
-LOCAL_ADDITIONAL_DEPENDENCIES := $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr
-
 include $(BUILD_EXECUTABLE)
diff --git a/mixer.c b/mixer.c
index a02c790..dd7ed16 100644
--- a/mixer.c
+++ b/mixer.c
@@ -39,7 +39,6 @@
 
 #include <linux/ioctl.h>
 #define __force
-#define __bitwise
 #define __user
 #include <sound/asound.h>
 
diff --git a/pcm.c b/pcm.c
index 612d068..22cdec4 100644
--- a/pcm.c
+++ b/pcm.c
@@ -42,7 +42,6 @@
 
 #include <linux/ioctl.h>
 #define __force
-#define __bitwise
 #define __user
 #include <sound/asound.h>
 
-- 
2.20.1

